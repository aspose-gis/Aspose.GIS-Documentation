---
title: "כיצד לחבר שכבות באמצעות גיאומטריה או תכונה"
type: docs
url: /he/net/how-to-join-layers
weight: 70
---

## סיכום

במערכות מידע גיאוגרפיות (GIS), חיבורים הם מנגנון רב עוצמה לשילוב מידע משכבות שונות על סמך תכונה או קשר מרחבי משותפים. חיבורים מאפשרים לך למזג נתוני תכונה משכבה אחת (שכבת המקור) עם שכבה אחרת (שכבת היעד) באמצעות שדה משותף או מיקום מרחבי. הראשון הוא צירוף נתונים לפי מפתח (תכונה בטבלה). באמצעות שדה משותף, כגון מפתח ייחודי, תוכל לקשר רשומות בטבלה אחת לרשומות בטבלה אחרת. הגישה השנייה היא חיבור נתונים לפי מיקום (מרחבי). אנו תומכים בשתי הגישות ומציעים לך את ההזדמנות להשתמש בהן בהתאם לצרכים שלך.

נניח שקיבלת נתונים המתארים את שינוי האחוזים באוכלוסייה עבור מחוזות שונים, ואתה רוצה ליצור מספר מפות צמיחת אוכלוסייה המבוססות על מידע זה. בעוד שנתוני האוכלוסייה שלך מאוחסנים בטבלה במסד הנתונים שלך וחולקים שדה משותף עם השכבה שלך, תוכל לחבר נתונים אלה לאובייקטים הגיאוגרפיים שלך ולהשתמש בשדות נוספים לתיוג, קטגוריזציה, שאילתה או ניתוח של אובייקטי השכבה.

בדרך כלל, אתה מבצע חיבורי נתונים על סמך ערך שדה הקיים בשתי הטבלאות. שמות השדות לא חייבים להיות זהים בהכרח, אך סוגי הנתונים צריכים להיות זהים - מספרים עם מספרים, מחרוזות עם מחרוזות וכן הלאה. אתה יכול לבצע את חיבור הנתונים באמצעות הכלי לעיבוד מוקדם "Add Join". בעת צירוף תכונות, השדות המצורפים נוספים באופן דינמי לטבלה הקיימת. מאפייני שדה כגון כינויים, נראות ועיצוב מספרים נשמרים בעת הוספה או הסרה של החיבור.

## יכולות לחיבור לפי שדה מפתח

- גישה זו מאפשרת לך **לקשר רשומות מטבלאות שונות** על סמך שדה מפתח משותף. אתה יכול לציין את שדה המפתח שיש להשתמש בו להשוואה כדי לבסס את הקשר בין הרשומות. זה שימושי במיוחד כאשר אתה צריך למזג נתונים על סמך מזהה או תכונה ייחודית אחרת.

ציון השיטה להשוואת נתונים על סמך שדה המפתח:

- אתה יכול להגדיר **שיטות השוואה שונות** עבור שדה המפתח בעת מיזוג נתונים. לדוגמה, אתה יכול לבחור לקבל התאמה מדויקת, להשוות על סמך דפוס או בתוך טווח ערכים. זה מאפשר קביעה מדויקת יותר של יחסים בין רשומות ונותן שליטה על תהליך מיזוג הנתונים.

ציון רשימת שמות התכונות שיש למזג:

- בעת מיזוג נתונים, אתה יכול לציין **תכונות ספציפיות** שצריכות להיות ממוזגות. זה מאפשר לך לבחור רק את התכונות הדרושות למיזוג ולנהל את המבנה של הטבלה המתקבלת.

## יכולות לחיבור באמצעות גיאומטריה

- גישה זו מאפשרת לך לקשר נתונים על סמך **המיקום המרחבי שלהם**. אתה יכול להגדיר רדיוס חיפוש בתוך הגיאומטריות הקרובות ביותר יחפשו למיזוג. זה שימושי כאשר אתה צריך לחבר נתונים על סמך המיקום הגיאוגרפי שלהם.

שליטה ברדיוס החיפוש למציאת גיאומטריות קרובות:

- אתה יכול לשלוט **ברדיוס החיפוש** בעת מיזוג נתונים על סמך מיקום. על ידי ציון ערך רדיוס, אתה קובע את המרחק שבתוכו הגיאומטריות הקרובות ביותר יחפשו למיזוג. זה נותן שליטה על אילו אובייקטים ישתתפו בתהליך מיזוג הנתונים בהתבסס על היחסים המרחביים שלהם.

## פרויקט הדגמה

כדי להבין טוב יותר את הפונקציונליות של הספריה שלנו, בואו נשקול [דוגמה לשימוש בו](https://github.com/aspose-gis/Aspose.GIS-for-.NET/tree/master/Apps/Geo.Layers.Join). קוד זה מדגים כיצד לחבר שכבות וקטוריות לפי תכונות או גיאומטריה.

הקוד המסופק מורכב משתי שיטות, JoinByIndex() ו-JoinByCoords(), המדגימות פעולות צירוף נתונים באמצעות מחלקת LayerConstructor.

בשיטת JoinByIndex():

- רשימות של גיאומטריות עם תכונות קשורות נוצרות.

- אובייקט LayerConstructor מאותחל.

- השיטה יוצרת שכבה וקטורית ושכבת גיאומטריה באמצעות הגיאומטריות המסופקות.

- שכבת הגיאומטריה מצורפת על סמך מזהה ייחודי ("Id") באמצעות שיטת JoinLayersById().

- השכבה הווקטורית המצורפת המתקבלת מוחזרת.

בשיטת JoinByCoords():

- רשימות של גיאומטריות עם תכונות קשורות נוצרות.

- אובייקט LayerConstructor מאותחל.

- שכבות גיאומטריה נוצרות באמצעות הגיאומטריות המסופקות.

- שכבות הגיאומטריה מצורפות על סמך קואורדינטות תואמות באמצעות שיטת JoinLayersByCoords().

- השכבה הווקטורית המצורפת המתקבלת מוחזרת.

לסיכום, שיטות אלה מדגימות שני גישות שונות לצירוף נתונים: אחת על סמך מזהה ייחודי והשנייה על סמך קואורדינטות תואמות. מחלקת LayerConstructor מקלה על פעולות צירוף הנתונים הללו.

## אפשרויות חיבור לאינדקס

מחלקת JoinOptions מספקת סט של אפשרויות להגדרת שכבות חיבור. בואו נעמיק בכל אפשרות:

- **JoinAttributeName**: אפשרות זו מאפשרת לך לציין את שם התכונה מהשכבה המצורפת שהערך שלה ישמש בהשוואת התנאים. זה מבסס את הקשר בין שתי השכבות על סמך תכונה זו.

- **TargetAttributeName**: עם אפשרות זו, אתה יכול לציין את שם התכונה מהשכבה הראשית שתשוואה לתכונה מהשכבה המצורפת. זה עוזר לקבוע את התכונות המתאימות בין השכבות.

- **JoinAttributeNames**: אפשרות זו מאפשרת לך לציין רשימה של שמות תכונות שאתה רוצה לחבר. אם רשימה זו נותרת ריקה או מוגדרת ל-null, כל התכונות מהשכבה המצורפת ייכללו בפעולת החיבור. עם זאת, על ידי בחירת שמות תכונות ספציפיים, אתה יכול לשלוט בתכונות שמחוברות, וזה יכול להיות שימושי לייעול השימוש בזיכרון וזמן העיבוד.

- **ConditionComparer**: אפשרות זו מאפשרת לך להגדיר לוגיקה מותאמת אישית להשוואת ערכי תכונות בין התכונות של שתי השכבות. כברירת מחדל, הוא משתמש במשוואה EqualityComparer.Default, הבודקת שוויון. עם זאת, אתה יכול לספק את המשווה המותאם אישית שלך שמיישם את IEqualityComparer לדרישות השוואה מיוחדות יותר.

- **JoinedAttributesPrefix**: אפשרות זו מאפשרת לך לציין מחרוזת קידומת עבור שמות התכונות של השכבה המצורפת. ערך ברירת המחדל הוא "joined_", מה שאומר שתכונות מצורפות יקבלו קידומת עם "joined_" בשכבה המצורפת המתקבלת. קידומת זו עוזרת להבדיל בין תכונות מצורפות לתכונות המקוריות של השכבה הראשית.

מחלקת JoinOptions מספקת גמישות ושליטה על היבטים שונים של תהליך החיבור של השכבות. אתה יכול לציין את התכונות לחיבור, להתאים אישית את הלוגיקה להשוואה ולהגדיר קידומת לתכונות המצורפות המתקבלות. אפשרויות אלה מאפשרות לך להתאים את פעולת החיבור בהתאם לצרכים הספציפיים שלך ולהשיג תובנות משמעותיות מהשכבות הממוזגות.

## אפשרויות חיבור לגאומטריה

המחלקת **JoinByGeometryOptions** מייצגת אפשרויות לחיבור שכבות על סמך גיאומטריה. בואו נחקור את הפונקציונליות של כל אפשרות:

- **Radius**: אפשרות זו מציינת את הרדיוס שבתוכו תתבצע חיפוש הגיאומטריה המצורפת. זה קובע את הקרבה שבתוכה התכונות מהשכבה הראשית יתאימו לתכונות מהשכבה המצורפת על סמך היחסים המרחביים שלהן.

- **ConditionComparer**: אפשרות זו מאפשרת לך להגדיר לוגיקה מותאמת אישית להשוואת ערכי תכונות מהתכונות של שתי השכבות. כברירת מחדל, הוא משתמש ב-EqualityComparer.Default, הבודק שוויון. עם זאת, אתה יכול לספק את המשווה המותאם אישית שלך שמיישם את IEqualityComparer לדרישות השוואה ספציפיות יותר.

- **JoinedAttributesPrefix**: אפשרות זו מאפשרת לך לציין מחרוזת קידומת עבור שמות התכונות של השכבה המצורפת. ערך ברירת המחדל הוא "joined_", מה שאומר שתכונות מצורפות יקבלו קידומת עם "joined_" בשכבה המצורפת המתקבלת. קידומת זו עוזרת להבדיל בין תכונות מצורפות לתכונות המקוריות של השכבה הראשית.

מחלקת JoinByGeometryOptions מספקת את האמצעים להתאמה אישית של התהליך של חיבור שכבות על סמך היחסים המרחביים שלהן. על ידי ציון רדיוס חיפוש, אתה יכול לשלוט בהיקף שבתוכו הגיאומטריות יתאימו. זה מאפשר כוונון עדין של פעולת החיבור על סמך הקרבה הרצויה בין תכונות. האפשרות לספק משווה מותאם אישית נותנת לך גמישות בהשוואת ערכי תכונות, והאפשרות להוסיף קידומת לתכונות מצורפות עוזרת להבדיל ביניהן בשכבה המצורפת המתקבלת.

באמצעות אפשרויות אלה, אתה יכול לבצע מיזוג נתונים מודע מרחבית ולקבל תובנות מהשכבות המצורפות המבוססות על הקרבה המרחבית שלהן וערכי התכונות שלהן.

## סיכום

מנגנון צירוף הנתונים במערכות מידע גיאוגרפיות (GIS) מאפשר שילוב של אובייקטים גיאומטריים עם התכונות המתאימות להם משכבות שונות. זה מספק את היכולת לנתח ולהפיק מידע על סמך יחסים מרחביים ותכונתיים בתוך הנתונים. האפשרויות הזמינות מאפשרות התאמה אישית של תהליך החיבור כדי לעמוד בדרישות וצרכי ניתוח ספציפיים בנתוני GIS.

צירוף נתונים מקל על משימות שונות, כולל:

- מציאת אובייקטים העומדים בקריטריונים מרחביים ספציפיים, כגון זיהוי כל הבניינים ברדיוס של 500 מטר מנקודה מסוימת.

- שילוב נתונים גיאוגרפיים ליצירת סקירה מקיפה ואינפורמטיבית יותר של מצב.

- ניתוח ערכי תכונות של אובייקטים על בסיס תנאים מרחביים ספציפיים כדי לזהות מגמות ותבניות.

אפשרויות צירוף הנתונים מאפשרות הגדרה מדויקת של תהליך ההתאמה של האובייקט. אפשרויות אלה כוללות בחירת התכונות לחיבור, הגדרת לוגיקה מותאמת אישית להשוואת ערכי תכונות והוספת קידומת לשמות התכונות של הנתונים המצורפים. אפשרויות אלה מספקות גמישות והתאמה למטרות ניתוח הנתונים ב-GIS.

מנגנון צירוף הנתונים ממלא תפקיד משמעותי בשילוב ובניתוח נתונים גיאוגרפיים, ומניב הבנה מקיפה יותר של האופי המרחבי והתכונתי של האובייקטים הנחקרים.