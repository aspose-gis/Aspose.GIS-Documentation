---
title: "نحوه پیوند لایه‌ها با استفاده از هندسه یا ویژگی"
type: docs
url: /fa/net/how-to-join-layers
weight: 70
---

## خلاصه

در GIS، پیوندها یک مکانیسم قدرتمند برای ترکیب اطلاعات از لایه‌های مختلف بر اساس یک ویژگی مشترک یا رابطه مکانی هستند. پیوندها به شما امکان می‌دهند داده‌های ویژگی را از یک لایه (لایه منبع) با لایه دیگر (لایه هدف) با استفاده از یک فیلد مشترک یا یک موقعیت مکانی ادغام کنید. اولین مورد، پیوند دادن داده‌ها بر اساس کلید (ویژگی در جدول) است. با استفاده از یک فیلد مشترک، مانند یک کلید منحصر به فرد، می‌توانید رکوردهای یک جدول را با رکوردهای جدول دیگر مرتبط کنید. رویکرد دوم، پیوند دادن داده‌ها بر اساس موقعیت مکانی (فضایی) است. ما هر دو رویکرد را پشتیبانی می‌کنیم و این فرصت را در اختیار شما قرار می‌دهیم تا بسته به نیازهای خود از آن‌ها استفاده کنید.

فرض کنید داده‌هایی دریافت کرده‌اید که درصد تغییر جمعیت برای مناطق مختلف را توصیف می‌کند، و می‌خواهید چندین نقشه رشد جمعیت بر اساس این اطلاعات ایجاد کنید. در حالی که داده‌های جمعیتی شما در یک جدول در پایگاه داده شما ذخیره شده‌اند و یک فیلد مشترک با لایه شما دارند، می‌توانید این داده‌ها را به اشیاء جغرافیایی خود پیوند دهید و از فیلدهای اضافی برای برچسب‌گذاری، دسته‌بندی، پرس‌و‌جو یا تجزیه و تحلیل اشیاء لایه استفاده کنید.

به طور معمول، شما پیوند داده‌ها را بر اساس یک مقدار فیلد که در هر دو جدول وجود دارد انجام می‌دهید. نام فیلدها لزوماً نباید مطابقت داشته باشند، اما انواع داده باید یکسان باشند - اعداد با اعداد، رشته‌ها با رشته‌ها و غیره. می‌توانید پیوند داده‌ها را با استفاده از ابزار پردازش زمین فضایی "Add Join" اجرا کنید. هنگام پیوند دادن ویژگی‌ها، فیلدهای پیوندی به طور پویا به جدول موجود اضافه می‌شوند. خواص فیلد مانند نام مستعار، قابلیت مشاهده و قالب‌بندی عدد هنگام افزودن یا حذف پیوند حفظ می‌شوند.

## قابلیت‌های پیوند با استفاده از فیلد کلید

- این رویکرد به شما امکان می‌دهد **رکوردها را از جداول مختلف** بر اساس یک فیلد کلیدی مشترک مرتبط کنید. می‌توانید فیلد کلیدی مورد استفاده برای مقایسه را برای ایجاد رابطه بین رکوردها مشخص کنید. این امر به‌ویژه زمانی مفید است که نیاز به ادغام داده‌ها بر اساس یک شناسه یا ویژگی منحصر به فرد دیگر داشته باشید.

تعیین روش مقایسه داده‌ها بر اساس فیلد کلید:

- می‌توانید **روش‌های مقایسه مختلفی** را برای فیلد کلیدی هنگام ادغام داده‌ها تعریف کنید. به عنوان مثال، می‌توانید انتخاب کنید که یک تطابق دقیق داشته باشید، بر اساس یک الگو مقایسه کنید یا در محدوده مقادیر قرار دهید. این امکان تعیین دقیق‌تر روابط بین رکوردها و کنترل فرآیند ادغام داده‌ها را فراهم می‌کند.

تعیین لیستی از نام ویژگی‌ها برای ادغام:

- هنگام ادغام داده‌ها، می‌توانید **ویژگی‌های خاصی** که باید ادغام شوند را مشخص کنید. این به شما امکان می‌دهد فقط ویژگی‌های لازم برای ادغام را انتخاب کرده و ساختار جدول حاصل را مدیریت کنید.

## قابلیت‌های پیوند با استفاده از هندسه

- این رویکرد به شما امکان می‌دهد داده‌ها را بر اساس **موقعیت مکانی آن‌ها** مرتبط کنید. می‌توانید شعاع جستجو را تعریف کنید که در آن نزدیکترین اشیاء هندسی برای ادغام جستجو شوند. این امر زمانی مفید است که نیاز به پیوند دادن داده‌ها بر اساس موقعیت جغرافیایی آن‌ها داشته باشید.

کنترل شعاع جستجو برای یافتن نزدیک‌ترین اشیاء هندسی:

- می‌توانید **شعاع جستجو** را هنگام ادغام داده‌ها بر اساس مکان کنترل کنید. با تعیین مقدار شعاع، فاصله ای را که در آن نزدیکترین اشیاء برای ادغام جستجو می‌شوند، تعیین می‌کنید. این امکان کنترل می‌دهد که کدام اشیاء بر اساس رابطه مکانی خود در فرآیند ادغام داده‌ها شرکت می‌کنند.

## پروژه نمایشی

برای درک بهتر عملکرد کتابخانه ما، بیایید [مثالی از استفاده از آن](https://github.com/aspose-gis/Aspose.GIS-for-.NET/tree/master/Apps/Geo.Layers.Join) را در نظر بگیریم. این کد نشان می‌دهد که چگونه لایه‌های برداری را با استفاده از ویژگی‌ها یا هندسه پیوند دهید.

کد ارائه شده شامل دو روش JoinByIndex() و JoinByCoords() است که عملیات پیوند داده‌ها را با استفاده از کلاس LayerConstructor نشان می‌دهند.

در روش JoinByIndex():

- لیست‌هایی از هندسه‌ها همراه با ویژگی‌های مرتبط ایجاد می‌شوند.

- یک شیء LayerConstructor مقداردهی اولیه می‌شود.

- این روش یک لایه برداری و یک لایه هندسی با استفاده از هندسه‌های ارائه شده ایجاد می‌کند.

- لایه هندسی بر اساس یک شناسه منحصر به فرد ("Id") با استفاده از روش JoinLayersById() پیوند داده می‌شود.

- لایه برداری پیوندی حاصل بازگردانده می‌شود.

در روش JoinByCoords():

- لیست‌هایی از هندسه‌ها همراه با ویژگی‌های مرتبط ایجاد می‌شوند.

- یک شیء LayerConstructor مقداردهی اولیه می‌شود.

- لایه‌های هندسی با استفاده از هندسه‌های ارائه شده ایجاد می‌شوند.

- لایه‌های هندسی بر اساس هماهنگی‌های منطبق با استفاده از روش JoinLayersByCoords() پیوند داده می‌شوند.

- لایه برداری پیوندی حاصل بازگردانده می‌شود.

به طور خلاصه، این روش‌ها دو رویکرد مختلف برای پیوند دادن داده‌ها را نشان می‌دهند: یکی بر اساس یک شناسه منحصر به فرد و دیگری بر اساس هماهنگی‌های منطبق. کلاس LayerConstructor این عملیات پیوند داده‌ها را تسهیل می‌کند.

## گزینه‌های پیوند برای فهرست

کلاس JoinOptions مجموعه‌ای از گزینه‌ها را برای پیکربندی لایه‌ها ارائه می‌دهد. بیایید عمیق‌تر به هر گزینه بپردازیم:

- **JoinAttributeName**: این گزینه به شما امکان می‌دهد نام ویژگی را از لایه پیوندی شده که مقدار آن در مقایسه شرطی استفاده می‌شود، مشخص کنید. این اتصال بین دو لایه بر اساس این ویژگی ایجاد می‌شود.

- **TargetAttributeName**: با این گزینه، می‌توانید نام ویژگی را از لایه اصلی که با ویژگی از لایه پیوندی شده مقایسه خواهد شد، مشخص کنید. این به تعیین ویژگی‌های منطبق بین لایه‌ها کمک می‌کند.

- **JoinAttributeNames**: این گزینه به شما امکان می‌دهد لیستی از نام ویژگی‌ها را که می‌خواهید پیوند دهید، مشخص کنید. اگر این لیست خالی یا روی null تنظیم شود، همه ویژگی‌های لایه پیوندی شده در عملیات پیوند گنجانده می‌شوند. با این حال، با انتخاب نام ویژگی‌های خاص، می‌توانید ویژگی‌هایی را که پیوند داده می‌شوند کنترل کنید، که می‌تواند برای بهینه‌سازی استفاده از حافظه و زمان پردازش مفید باشد.

- **ConditionComparer**: این گزینه به شما امکان می‌دهد منطق سفارشی را برای مقایسه مقادیر ویژگی بین ویژگی‌های دو لایه تعریف کنید. به‌طور پیش‌فرض، از مقایسه‌گر EqualityComparer.Default استفاده می‌کند که بررسی برابری را انجام می‌دهد. با این حال، می‌توانید مقایسه‌گر سفارشی خود را ارائه دهید که IEqualityComparer را پیاده‌سازی کند تا الزامات مقایسه تخصصی‌تر را داشته باشید.

- **JoinedAttributesPrefix**: این گزینه به شما امکان می‌دهد یک پیشوند رشته‌ای برای نام ویژگی‌های لایه پیوندی شده مشخص کنید. مقدار پیش فرض "joined_" است، به این معنی که ویژگی‌های پیوندی شده با "joined_" در لایه پیوندی شده حاصل پیشوند می‌شوند. این پیشوند به تمایز بین ویژگی‌های پیوندی شده از ویژگی‌های اصلی لایه اصلی کمک می‌کند.

کلاس JoinOptions انعطاف‌پذیری و کنترل بر جنبه‌های مختلف فرآیند پیوند لایه‌ها را فراهم می‌کند. می‌توانید ویژگی‌هایی را که می‌خواهید پیوند دهید، منطق مقایسه را سفارشی کنید و پیشوندی را برای ویژگی‌های پیوندی شده حاصل تعریف کنید. این گزینه‌ها به شما امکان می‌دهند عملیات پیوند را مطابق با نیازهای خاص خود تنظیم کرده و بینش معناداری از لایه‌های ادغام شده بدست آورید.

## گزینه‌های پیوند برای هندسه

کلاس **JoinByGeometryOptions** نشان‌دهنده گزینه‌هایی برای پیوند دادن لایه‌ها بر اساس هندسه است. بیایید عملکرد هر گزینه را بررسی کنیم:

- **Radius**: این گزینه شعاعی را که در آن هندسه پیوندی شده جستجو می‌شود، مشخص می‌کند. این تعیین می‌کند که مجاورت در کدام ویژگی‌های لایه اصلی با ویژگی‌های لایه پیوندی شده بر اساس رابطه مکانی آن‌ها مطابقت داده می‌شوند.

- **ConditionComparer**: این گزینه به شما امکان می‌دهد منطق سفارشی را برای مقایسه مقادیر ویژگی از ویژگی‌های دو لایه تعریف کنید. به‌طور پیش‌فرض، از EqualityComparer.Default استفاده می‌کند که بررسی برابری را انجام می‌دهد. با این حال، می‌توانید یک مقایسه‌گر سفارشی ارائه دهید که IEqualityComparer را پیاده‌سازی کند تا الزامات مقایسه خاص‌تر داشته باشید.

- **JoinedAttributesPrefix**: این گزینه به شما امکان می‌دهد یک پیشوند رشته‌ای برای نام ویژگی‌های لایه پیوندی شده مشخص کنید. مقدار پیش فرض "joined_" است، به این معنی که ویژگی‌های پیوندی شده با "joined_" در لایه پیوندی شده حاصل پیشوند می‌شوند. این پیشوند به تمایز بین ویژگی‌های پیوندی شده از ویژگی‌های اصلی لایه اصلی کمک می‌کند.

کلاس JoinByGeometryOptions وسیله‌ای برای سفارشی‌سازی فرآیند پیوند دادن لایه‌ها بر اساس رابطه مکانی آن‌ها فراهم می‌کند. با تعیین شعاع جستجو، می‌توانید کنترل کنید که هندسه‌ها در چه محدوده ای مطابقت داده شوند. این امکان تنظیم دقیق عملیات پیوند بر اساس مجاورت مورد نظر بین ویژگی‌ها را فراهم می‌کند. گزینه ارائه یک مقایسه‌گر سفارشی به شما انعطاف‌پذیری در مقایسه مقادیر ویژگی را می‌دهد و گزینه پیشوندگذاری ویژگی‌های پیوندی شده به تمایز آن‌ها در لایه پیوندی شده حاصل کمک می‌کند.

با استفاده از این گزینه‌ها، می‌توانید ادغام داده‌های آگاهانه فضایی انجام دهید و بینش‌هایی را از لایه‌های پیوندی شده که بر اساس مجاورت مکانی و مقادیر ویژگی آن‌ها هستند، بدست آورید.

## خلاصه

مکانیسم پیوند داده‌ها در GIS امکان ترکیب اشیاء هندسی با ویژگی‌های مربوطه خود از لایه‌های مختلف را فراهم می‌کند. این امر امکان تجزیه و تحلیل و استخراج اطلاعات بر اساس روابط فضایی و ویژگی در داده‌ها را فراهم می‌کند. گزینه‌های موجود امکان سفارشی‌سازی فرآیند پیوند را برای پاسخگویی به الزامات خاص و نیازهای تحلیلی در داده‌های GIS فراهم می‌کنند.

پیوند داده‌ها وظایف مختلفی را تسهیل می‌کند، از جمله:

- یافتن اشیایی که معیارهای فضایی خاصی را برآورده می‌کنند، مانند شناسایی تمام ساختمان‌هایی در شعاع 500 متری یک نقطه مشخص.

- ترکیب داده‌های جغرافیایی برای ایجاد نمای کلی جامع‌تر و آموزنده‌تر از یک موقعیت.

- تجزیه و تحلیل مقادیر ویژگی اشیاء بر اساس شرایط فضایی خاص برای شناسایی روندها و الگوها.

گزینه‌های پیوند داده‌ها امکان پیکربندی دقیق فرآیند تطبیق شی را فراهم می‌کنند. این گزینه‌ها شامل انتخاب ویژگی‌هایی که باید پیوند داده شوند، تعریف منطق سفارشی برای مقایسه مقادیر ویژگی و افزودن پیشوندی به نام ویژگی‌های داده‌های پیوندی شده است. این گزینه‌ها انعطاف‌پذیری و سازگاری با فرآیند پیوند را فراهم می‌کنند و پاسخگوی الزامات خاص و اهداف تجزیه و تحلیل داده‌ها در GIS هستند.

مکانیسم پیوند داده‌ها نقش مهمی در ادغام و تجزیه و تحلیل داده‌های جغرافیایی ایفا می‌کند و منجر به درک جامع‌تری از ماهیت فضایی و ویژگی اشیاء مورد بررسی می‌شود.